# 4. Нагрузочное тестирование

Данная лабораторная работа направлена на освоение навыков выполнения нагрузочного тестирования, выявления узких мест в системе и интеграции тестов в процесс CI/CD.

## Задание

### Добавление Tsung в проект

Подготовьте контейнер с инструментом **Tsung** и добавьте его в файл `docker-compose.yml` для последующего использования при нагрузочном тестировании.

### Описание сценариев тестирования

Разработайте набор сценариев нагрузочного тестирования, который будет охватывать ключевые аспекты работы системы, такие как обработка запросов API, взаимодействие с базой данных и другие важные модули.

Включите следующие сценарии:

1. Много пользователей с низкой частотой запросов от каждого 
2. Мало пользователей, но высокая частота запросов от каждого
3. Пиковая нагрузка с большим количеством пользователей и высокой частотой запросов

### Проведение нагрузочного тестирования

Выполните нагрузочное тестирование системы, применяя ранее подготовленные сценарии для оценки производительности и устойчивости системы под различными условиями. 

В ходе тестирования:
- Оцените поведение системы при различных типах нагрузки.
- Соберите данные о времени отклика, пропускной способности, использовании ресурсов и других метрик производительности.
- Проанализируйте результаты для выявления узких мест и определите, где система испытывает наибольшие трудности.

После выполнения тестов сформируйте отчет, который должен включать:
- Графики, отображающие динамику производительности.
- Основные выводы, основанные на анализе тестирования.
- Предложения по улучшению производительности и устранению выявленных проблем.

::: tip Рекомендация
Соберите данные не только о производительности, но и о состоянии системы в момент пиковых нагрузок. Для этого используйте **Prometheus** и **Grafana**.
:::

### Интеграция нагрузочных тестов в CI/CD

Добавьте сценарии нагрузочного тестирования в пайплайн GitLab, чтобы они выполнялись автоматически на этапе тестирования.

## Критерии оценки

При оценке результатов лабораторной работы учитываются следующие аспекты проделанной работы:

1. Качество и обоснованность составленных сценариев нагрузочного тестирования.
1. Умение анализировать результаты нагрузочного тестирования и выявлять узкие места в системе. 
1. Точность и полнота ответов на вопросы преподавателя по содержанию лабораторной работы при ее защите.